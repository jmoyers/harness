{
  "name": "@jmoyers/harness",
  "version": "0.1.14",
  "private": false,
  "repository": {
    "type": "git",
    "url": "https://github.com/jmoyers/harness"
  },
  "bin": {
    "harness": "scripts/harness-bin.js"
  },
  "files": [
    "src",
    "scripts/bun-runtime-guard.js",
    "scripts/build-ptyd.sh",
    "scripts/control-plane-daemon.ts",
    "scripts/codex-live-mux-runtime.ts",
    "scripts/codex-live-mux.ts",
    "scripts/cursor-hook-relay.ts",
    "scripts/harness-animate.ts",
    "scripts/harness-bin.js",
    "scripts/harness-commands.ts",
    "scripts/harness-core.ts",
    "scripts/harness-runtime.ts",
    "scripts/harness.ts",
    "scripts/nim-tui-smoke.ts",
    "packages/harness-ai/src",
    "packages/harness-ui/src",
    "packages/nim-core/src",
    "packages/nim-ui-core/src",
    "packages/nim-test-tui/src",
    "scripts/require-bun.js",
    "native/ptyd/Cargo.lock",
    "native/ptyd/Cargo.toml",
    "native/ptyd/src",
    "README.md",
    "LICENSE"
  ],
  "type": "module",
  "publishConfig": {
    "access": "public"
  },
  "oclif": {
    "bin": "harness",
    "commands": {
      "strategy": "explicit",
      "target": "scripts/harness-commands.ts"
    }
  },
  "scripts": {
    "migrate:bun": "bash ./scripts/migrate-to-bun.sh",
    "harness": "bun scripts/harness.ts",
    "harness:core": "bun scripts/harness-core.ts",
    "build:ptyd": "bash ./scripts/build-ptyd.sh",
    "preinstall": "node scripts/require-bun.js",
    "postinstall": "bun run build:ptyd",
    "codex:live": "bun scripts/codex-live.ts",
    "codex:pty:vte:passthrough": "bun scripts/codex-pty-vte-passthrough.ts",
    "codex:live:mux": "bun scripts/harness-core.ts",
    "codex:live:mux:record": "bun scripts/harness-core.ts --record",
    "codex:live:mux:client": "bun scripts/harness-core.ts --harness-server-host 127.0.0.1 --harness-server-port 7777",
    "codex:live:mux:launch": "bun scripts/codex-live-mux-launch.ts",
    "mux:fixture:daemon": "bun scripts/control-plane-daemon-fixture.ts",
    "mux:fixture:launch": "bun scripts/mux-fixture-launch.ts",
    "terminal:recording:gif": "bun scripts/terminal-recording-to-gif.ts",
    "codex:live:tail": "bun scripts/codex-live-tail.ts",
    "codex:live:snapshot": "bun scripts/codex-live-snapshot.ts",
    "control-plane:daemon": "bun scripts/control-plane-daemon.ts",
    "gateway:stress": "bun scripts/gateway-restart-stress.ts",
    "terminal:parity": "bun scripts/terminal-parity.ts",
    "terminal:differential": "bun scripts/terminal-differential-checkpoints.ts",
    "previm:passthrough": "bun run build:ptyd",
    "vim:passthrough": "bun scripts/vim-passthrough.ts",
    "prebenchmark:latency": "bun run build:ptyd",
    "benchmark:latency": "bun scripts/benchmark-pty-latency.ts",
    "perf:mux:startup": "bun scripts/perf-mux-startup-report.ts",
    "perf:mux:selector": "bun scripts/perf-mux-selector-report.ts",
    "perf:mux:hotpath": "bun scripts/perf-mux-hotpath-harness.ts",
    "perf:mux:launch:startup:loop": "bun scripts/perf-mux-launch-startup-loop.ts",
    "perf:codex:startup:loop": "bun scripts/perf-codex-startup-loop.ts",
    "loc": "bun scripts/loc-report.ts",
    "loc:verify": "bun scripts/check-max-loc.ts --max-loc 2000",
    "loc:verify:enforce": "bun scripts/check-max-loc.ts --max-loc 2000 --enforce",
    "deadcode": "bun scripts/check-dead-code.ts",
    "coverage:check": "bun scripts/check-coverage.ts --lcov .harness/coverage-bun/lcov.info --config harness.coverage.jsonc",
    "release": "bun scripts/release.ts",
    "lint": "oxlint --deny-warnings --disable-unicorn-plugin -c .oxlintrc.json src test scripts packages/harness-ai/src packages/harness-ui/src packages/nim-core/src packages/nim-ui-core/src packages/nim-test-tui/src",
    "format": "oxfmt --config .oxfmtrc.json src test scripts packages/harness-ai/src packages/harness-ui/src packages/nim-core/src packages/nim-ui-core/src packages/nim-test-tui/src",
    "format:check": "oxfmt --check --config .oxfmtrc.json src test scripts packages/harness-ai/src packages/harness-ui/src packages/nim-core/src packages/nim-ui-core/src packages/nim-test-tui/src",
    "typecheck": "tsc --noEmit",
    "test": "bun run build:ptyd && bun test --concurrent",
    "test:serial": "bun run build:ptyd && bun test",
    "test:integration:codex-status": "bun scripts/integration-codex-status-sequence.ts",
    "test:integration:codex-status:long": "bun scripts/integration-codex-status-sequence.ts --timeout-ms 180000 --prompt \"Write three short poems titled Dawn, Voltage, and Orbit. Before each poem, perform one repository inspection action and include one factual line from that action. Use at least three total tool actions and do not edit any files.\"",
    "test:integration:agent-prompts": "bun scripts/integration-agent-prompt-parity.ts",
    "test:integration:agent-prompts:long": "bun scripts/integration-agent-prompt-parity.ts --timeout-ms 180000",
    "test:integration:nim:haiku": "bun scripts/integration-nim-haiku.ts",
    "nim:tui": "bun scripts/nim-tui-smoke.ts",
    "smoke:harness-ai": "bun scripts/harness-ai-smoke.ts",
    "smoke:harness-ai:parity": "bun scripts/harness-ai-parity-smoke.mts",
    "test:coverage": "bun run build:ptyd && bun test --concurrent --coverage --coverage-reporter=lcov --coverage-dir .harness/coverage-bun && bun run coverage:check",
    "test:coverage:serial": "bun run build:ptyd && bun test --coverage --coverage-reporter=lcov --coverage-dir .harness/coverage-bun && bun run coverage:check",
    "verify": "bun run format:check && bun run lint && bun run typecheck && bun run deadcode && bun run test:coverage",
    "verify:coverage-gate": "bun run format:check && bun run lint && bun run typecheck && bun run deadcode && bun run test:coverage",
    "verify:strict": "bun run verify:coverage-gate && bun run loc:verify:enforce"
  },
  "dependencies": {
    "@linear/sdk": "^75.0.0",
    "@napi-rs/canvas": "^0.1.92",
    "@oclif/core": "^4.8.0",
    "gifenc": "^1.0.3"
  },
  "devDependencies": {
    "@ai-sdk/anthropic": "^3.0.45",
    "@types/node": "^22.17.0",
    "ai": "^6.0.91",
    "fast-check": "^4.5.3",
    "oxfmt": "^0.33.0",
    "oxlint": "^1.48.0",
    "typescript": "^5.9.2",
    "zod": "^4.3.6"
  },
  "packageManager": "bun@1.3.9"
}
